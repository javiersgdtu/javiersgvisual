var width=d3.select("#house-svg").attr("width")/2,height=d3.select("#house-svg").attr("height")/2,widthLong=1250,posX=widthLong/2,formatMinute=d3.format(".0f"),currentValue=0,moving=!1,svg=d3.select("#house-svg");d3.select(".container").style("opacity",0);var sel=d3.select("#house-color").selectAll("g").filter((function(){return null!=d3.select(this).attr("id").match("arrow-")}));d3.select("#house-color").selectAll("polygon").style("opacity",0);var opacity_temp,tooltip=d3.select(".container-svg").append("div").attr("class","tooltip"),title=svg.append("text").attr("x",posX).attr("y",70).text("PARASITE").attr("font-family","parasite").attr("font-size",40);d3.selectAll("path").style("opacity",.5).on("mouseover",handleMouseOverRoom).on("mouseout",handleMouseOutRoom),d3.selectAll("#da_hye_s_room,#first_floor-corridor,#da_song_s_room,#mr__mrs_park_room").attr("class","first"),d3.selectAll("#kitchen,#garden,#living_room,#entrance,#secondary_garden").attr("class","zero"),d3.selectAll("#garage,#entrance-street,#basement,#cave,#entrance-intercom").attr("class","street-under"),svg.append("text").attr("class","house-map").attr("x",1320).attr("y",450).text("HOUSE MAP").attr("font-family","parasite").attr("font-size",20);var opacity_arr,inputElems=d3.selectAll("input");function handleMouseOverRoom(){opacity_temp=d3.select(this).style("opacity"),d3.select(this).transition().duration(500).style("stroke-width","10px").style("opacity",1),d3.select("#area").remove();var t=d3.select(this).select("title"),e=d3.select(this.parentNode).select("title");null!=e.text().match("Stairs|Intercom|Kitchen|Street")&&d3.select(this.parentNode).selectAll("polygon").transition().duration(1e3).style("opacity",1),d3.select("#house-svg").append("text").attr("id","area").text((function(s){return null==e.text().match("Stairs|Intercom|Kitchen|Street")?t.text():e.text()})).attr("text-anchor","middle").attr("x",posX+100).attr("y",100)}function handleMouseOutRoom(){var t=d3.select("#sliderCheck").node().checked,e=d3.select(this).attr("checkbox");d3.select(this).transition().duration(500).style("stroke-width","0.5px").style("opacity",(function(){return 1==e?1:1==t?opacity_temp:.5})),null!=d3.select(this.parentNode).select("title").text().match("Stairs|Intercom|Kitchen|Street")&&d3.select(this.parentNode).selectAll("polygon").transition().duration(1e3).style("opacity",0),d3.select("#area").remove()}inputElems.on("change",(function(t){var e=svg.selectAll("."+d3.select(this).attr("id")),s=e.attr("checkbox")||0,o=e.style("opacity");1!=o&&(opacity_arr=e.nodes().map((function(t){return+d3.select(t).style("opacity")}))),e.attr("checkbox",(function(){return 1!=s?1:0})).style("opacity",(function(t,e){return 1==o?opacity_arr[e]:1}))}));