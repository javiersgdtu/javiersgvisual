function drawChords(t,e){var a=1e3/2.2-110,n=d3.chord().padAngle(.05).sortSubgroups(d3.descending).sortChords(d3.descending),r=d3.arc().innerRadius(a).outerRadius(a+20),s=d3.ribbon().radius(a),o=d3.select(".container").append("div").attr("class","divgraph").append("svg:svg").attr("viewBox","-800 50 1600 900").append("svg:g").attr("id","circle").attr("transform","translate(100,500)").datum(n(t));o.append("circle").attr("r",a+20);var d=chordRdr(t,e),i=d3.scaleOrdinal(d3.schemeCategory20).domain(e);(n=o.selectAll("g.group").data((function(t){return t.groups})).enter().append("svg:g").attr("class","group")).append("svg:path").style("stroke","grey").style("fill",(function(t,e){return i(e)})).attr("d",r).on("mouseover",(function(t,e){o.selectAll("path.chord").classed("fade",(function(t){return t.source.index!=e&&t.target.index!=e}))})),n.append("svg:text").each((function(t){t.angle=(t.startAngle+t.endAngle)/2})).attr("dy",".35em").style("font-family","helvetica, arial, sans-serif").style("font-size","15px").attr("text-anchor",(function(t){return t.angle>Math.PI?"end":null})).attr("transform",(function(t){return"rotate("+(180*t.angle/Math.PI-90)+")translate("+(a+26)+")"+(t.angle>Math.PI?"rotate(180)":"")})).text((function(t){return d(t).gname})),o.selectAll("path.chord").data((function(t){return t})).enter().append("svg:path").attr("opacity",0).transition().duration(2e3).attr("opacity",1).attr("class","chord").style("stroke","grey").attr("fill",(function(t){return i(t.source.index)})).attr("d",s.radius(a))}d3.csv("/assets/data/data_circ.csv",(function(t,e){var a=chordMpr(e);a.addValuesToMap("root").addValuesToMap("node").setFilter((function(t,e,a){return t.root===e.name&&t.node===a.name})).setAccessor((function(t,e,a){return t[0]?+t[0].index:0})),drawChords(a.getMatrix(),a.getMap())})),d3.select(".container").append("div").attr("class","divtext").html("<span style='font-size:16px;'>Patient flow in hospital</span> <br><br><span font-size:12.5px;>This chord graph represents the different stages in which patients stay in a clinic. The width of the different flows represents the amount of patients going from one stage to another.</span><span style='font-size:14px;color:#A9A9A9'> Made with D3</span> ");